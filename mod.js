// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var t,e=Object.defineProperty,n=Object.prototype,o=n.toString,i=n.__defineGetter__,u=n.__defineSetter__,c=n.__lookupGetter__,f=n.__lookupSetter__;t=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?e:function(r,t,e){var l,a,s,p;if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+e+"`.");if((a="value"in e)&&(c.call(r,t)||f.call(r,t)?(l=r.__proto__,r.__proto__=n,delete r[t],r[t]=e.value,r.__proto__=l):r[t]=e.value),s="get"in e,p="set"in e,a&&(s||p))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&i&&i.call(r,t,e.get),p&&u&&u.call(r,t,e.set),r};var l=t;function a(r,t,e){l(r,t,{configurable:!1,enumerable:!1,writable:!1,value:e})}var s=/./;function p(r){return"boolean"==typeof r}var y="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function b(){return y&&"symbol"==typeof Symbol.toStringTag}var v=Object.prototype.toString;var g=Object.prototype.hasOwnProperty;function m(r,t){return null!=r&&g.call(r,t)}var h="function"==typeof Symbol?Symbol.toStringTag:"";var j=b()?function(r){var t,e,n;if(null==r)return v.call(r);e=r[h],t=m(r,h);try{r[h]=void 0}catch(t){return v.call(r)}return n=v.call(r),t?r[h]=e:delete r[h],n}:function(r){return v.call(r)},d=Boolean.prototype.toString;var w=b();function _(r){return"object"==typeof r&&(r instanceof Boolean||(w?function(r){try{return d.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===j(r)))}function O(r){return p(r)||_(r)}function E(){return new Function("return this;")()}a(O,"isPrimitive",p),a(O,"isObject",_);var I="object"==typeof self?self:null,S="object"==typeof window?window:null,T="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},P="object"==typeof T?T:null;var A=function(r){if(arguments.length){if(!p(r))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+r+"`.");if(r)return E()}if(I)return I;if(S)return S;if(P)return P;throw new Error("unexpected error. Unable to resolve global object.")}(),N=A.document&&A.document.childNodes,B=Int8Array;function V(){return/^\s*function\s*([^(]*)/i}var F=/^\s*function\s*([^(]*)/i;a(V,"REGEXP",F);var x=Array.isArray?Array.isArray:function(r){return"[object Array]"===j(r)};function C(r){return null!==r&&"object"==typeof r}function k(r){var t,e,n,o;if(("Object"===(e=j(r).slice(8,-1))||"Error"===e)&&r.constructor){if("string"==typeof(n=r.constructor).name)return n.name;if(t=F.exec(n.toString()))return t[1]}return C(o=r)&&(o._isBuffer||o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o))?"Buffer":e}a(C,"isObjectLikeArray",function(r){if("function"!=typeof r)throw new TypeError("invalid argument. Must provide a function. Value: `"+r+"`.");return function(t){var e,n;if(!x(t))return!1;if(0===(e=t.length))return!1;for(n=0;n<e;n++)if(!1===r(t[n]))return!1;return!0}}(C));var G="function"==typeof s||"object"==typeof B||"function"==typeof N?function(r){return k(r).toLowerCase()}:function(r){var t;return null===r?"null":"object"===(t=typeof r)?k(r).toLowerCase():t};function L(r){return"function"===G(r)}var M=Math.floor;function R(r){return M(r)===r}function U(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&R(r.length)&&r.length>=0&&r.length<=9007199254740991}function Y(){var r,t=arguments,e=t[0],n="https://stdlib.io/e/"+e+"?";for(r=1;r<t.length;r++)n+="&arg[]="+encodeURIComponent(t[r]);return n}var J=Number.POSITIVE_INFINITY;var X,q=Object.getPrototypeOf;X=L(Object.getPrototypeOf)?q:function(r){var t=function(r){return r.__proto__}(r);return t||null===t?t:"[object Function]"===j(r.constructor)?r.constructor.prototype:r instanceof Object?Object.prototype:null};var z=X;var D=Object.prototype;function H(r){var t;return!!function(r){return"object"==typeof r&&null!==r&&!x(r)}(r)&&(t=function(r){return null==r?null:(r=Object(r),z(r))}(r),!t||!m(r,"constructor")&&m(t,"constructor")&&L(t.constructor)&&"[object Function]"===j(t.constructor)&&m(t,"isPrototypeOf")&&L(t.isPrototypeOf)&&(t===D||function(r){var t;for(t in r)if(!m(r,t))return!1;return!0}(r)))}function K(r){return"number"==typeof r}var Q=Number,W=Q.prototype.toString;var Z=b();function $(r){return"object"==typeof r&&(r instanceof Q||(Z?function(r){try{return W.call(r),!0}catch(r){return!1}}(r):"[object Number]"===j(r)))}function rr(r){return K(r)||$(r)}a(rr,"isPrimitive",K),a(rr,"isObject",$);var tr=Q.NEGATIVE_INFINITY;function er(r){return r<J&&r>tr&&R(r)}function nr(r){return K(r)&&er(r)}function or(r){return $(r)&&er(r.valueOf())}function ir(r){return nr(r)||or(r)}function ur(r){return nr(r)&&r>0}function cr(r){return or(r)&&r.valueOf()>0}function fr(r){return ur(r)||cr(r)}function lr(r){return r!=r}function ar(r){return K(r)&&lr(r)}function sr(r){return $(r)&&lr(r.valueOf())}function pr(r){return ar(r)||sr(r)}function yr(r){return"string"==typeof r}a(ir,"isPrimitive",nr),a(ir,"isObject",or),a(fr,"isPrimitive",ur),a(fr,"isObject",cr),a(pr,"isPrimitive",ar),a(pr,"isObject",sr);var br=String.prototype.valueOf;var vr=b();function gr(r){return"object"==typeof r&&(r instanceof String||(vr?function(r){try{return br.call(r),!0}catch(r){return!1}}(r):"[object String]"===j(r)))}function mr(r){return yr(r)||gr(r)}a(mr,"isPrimitive",yr),a(mr,"isObject",gr);var hr=["values","indices","*"];function jr(r,t){return H(t)?(m(t,"thisArg")&&(r.thisArg=t.thisArg),m(t,"series")&&(r.series=t.series,!p(r.series))?new TypeError(Y("0iI30","series",r.series)):m(t,"limit")&&(r.limit=t.limit,!ur(r.limit))?new TypeError(Y("0iI3b","limit",r.limit)):m(t,"returns")&&(r.returns=t.returns,-1===function(r,t,e){var n,o;if(!U(r)&&!yr(r))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+r+"`.");if(0===(n=r.length))return-1;if(3===arguments.length){if(!nr(e))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+e+"`.");if(e>=0){if(e>=n)return-1;o=e}else(o=n+e)<0&&(o=0)}else o=0;if(pr(t)){for(;o<n;o++)if(pr(r[o]))return o}else for(;o<n;o++)if(r[o]===t)return o;return-1}(hr,r.returns))?new TypeError(Y("0iI3t","returns",hr.join('", "'),r.returns)):null):new TypeError(Y("0iI2h",t))}var dr=()=>{};function wr(r,t,e,n){var o,i,u,c,f,l,a,s;if(f=r.length,a=[],0===f)return n(null,a);for(a.push([],[]),c=f<t.limit?f:t.limit,dr("Number of arguments: %d",e.length),o=f-1,i=0,l=-1,s=0;s<c;s++)l<o&&p();function p(){var n,o;function i(r,e){if(!u){if(r)return u=!0,y(r);"indices"===t.returns?e?a[0].push(o):a[1].push(o):"*"===t.returns?e?a[0].push([o,n]):a[1].push([o,n]):e?a[0].push(n):a[1].push(n),y()}}n=r[o=l+=1],dr("Collection element %d: %s.",o,JSON.stringify(n)),2===e.length?e.call(t.thisArg,n,i):3===e.length?e.call(t.thisArg,n,o,i):e.call(t.thisArg,n,o,r,i)}function y(r){return r?(dr("Encountered an error: %s",r.message),n(r)):(i+=1,l<o?p():i===f?n(null,a):void 0)}}function _r(r,t){var e,n,o;if(e={},arguments.length>1){if(n=jr(e,r))throw n;o=t}else o=r;if(!L(o))throw new TypeError(Y("0iI43",o));return e.series?e.limit=1:e.limit||(e.limit=J),i;function i(r,t){if(!U(r))throw new TypeError(Y("0iIBO",r));if(!L(t))throw new TypeError(Y("0iI43",t));return wr(r,e,o,(function(r,e){if(r)return t(r);t(null,e)}))}}function Or(r,t,e,n){if(arguments.length<4)return _r(t)(r,e);_r(t,e)(r,n)}a(Or,"factory",_r);export{Or as default,_r as factory};
//# sourceMappingURL=mod.js.map
